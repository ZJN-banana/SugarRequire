
# SugarReqire快速使用手册

#### 先假设我们的开发环境是这样的

假如，我们有这样一个html
```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>测试</title>
	<script src="sr.js"></script>
	<script src="main.js"></script>
</head>
<body>
	
</body>
</html>
```

上面的sr.js就是SugarRequire框架，main.js就是入口文件。所有的js文件跟当前html在同一个目录下，这样就可以开始教程了。

### 1.学会使用require

下面有两个文件，一个是入口文件main.js，另一个就是模块文件module1.js。

```javascript
//main.js
require('module1').done(function(module1){
	console.log(module1);
    //这里会输出 => I am module
});
```

```javascript
//module1.js
define(function(){
	return "I am module";
});
```
使用的时候可以省略文件后缀.js

因为main.js调用module1模块，于是在done函数后会将module1返回到参数上传入。

### 2. 模块依赖

模块间可能会存在依赖，比如下面的两个模块

```javascript
//module1.js
define(function(){
	return "I am module";
});
```

```javascript
//module2.js
define(function(require,exports){
	require('module1').done(function(module1){
    	exports.val = 'I am module2';
      	exports.val2 = module1;
    });
});
```
那么main.js就会输出



```javascript
//main.js
require('module2').done(function(moduledata){
	console.log(moduledata);
    //这里会输出 => {val:'I am module2',val2:'I am module'}
});
```
### 3.延迟模块

SugarRequire很便利的添加了延迟模块，方便任务进程的管理

```javascript
//deferModule.js
//注意这里是defer不是define
defer(function(require,reslove){
	setTimeout(function(){
    	reslove('I am defer Module');
    },500);
});
```

```javascript
//main
require('deferModule').done(function(moduledata){
	console.log(moduledata);
    //这里会输出 => 'I am defer Module'
});
```

延迟模块适用于需要异步获取内容的地方，例如通过ajax获取数据或任务进度的控制。

对于**define**模块和**defer**模块的最大不同是，define模块只会执行定义函数**一次**，而defer模块会重复执行定义函数。

### 4.使用多个模块

想使用多个模块或依赖多个模块，只需要相应的添加在require函数内即可

```javascript
require('module1','module2','module3').done(function(m1data , m2data , m3data){
	...
});
```

### 5.按顺序加载

若模块有加载有先后顺序关系，可通过后缀require子函数运行加载模块即可产生先后顺序关系

```javascript
require('module1').done(function(module1data){
    ...
}).require('module2').done(function(module2data){
    ...
});
```

更多详细请查看``example``文件夹下的简易案例