!function(t){var e={},n={},r={paths:e,baseUrl:"",dataMap:n,tempM:{}},i="",a={config:function(t){r.baseUrl=t.baseUrl,x(e,t.paths)},use:function(t){var e=n[U(t)];return e&&e.status==l&&e.type==g?e.content.exports:void 0},has:function(t){var e=n[U(t)];return e?{exports:e.content&&e.content.exports,status:e.status,type:e.type}:void 0},"delete":function(t){var e=U(t),r=n[e];r&&r.script.remove(),delete n[e]},extend:function(t){t(r,L,A,k)},error:function(t){console.log(t)},version:"2"},s=[],u=!1,o=document.getElementsByTagName("head")[0],c="firstRequireEnd",f="chainend",p="ready",v="allloadend",h="loading",l="done",d="error",_="succeed",g="define",m="defer",y=function(){},b=function(t){u||(u=!0,setTimeout(function(){for(var t=0;t<s.length;t++)s[t]();s=[],u=!1},0)),s.push(t)},E=function(t){return Object.prototype.toString.call(t).toLowerCase().replace(/(\[object )|(])/g,"")},w=Object.create||function(t){var e=y;return e.prototype=t,new e},q=function(t){return Array.prototype.slice.call(t)},M=function(){return[].forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var n=0,r=t.length;r>n;n++)reMap.push(e(t[n],n))}}(),x=function(t,e){for(var n in e)t[n]=e[n];return t},j=function(t){return t=t.replace(/\?.+$/,""),t.replace(/.js$/g,"")},C=function(t){return t.concat(".js")},I=function(t){var e="",n=t.split("/"),r=n.length-1;return M(n,function(t,n){r>n&&(e+=t+"/")}),e},R=function(){this._map={},this.sub=[],this._ever={}};R.fn=R.prototype,R.fn._get=function(t){return this._map[t]||(this._map[t]={eves:[]})},R.fn.off=function(t,e){var n=this._get(t);if(arguments.length||(delete this._map,this._map=[]),t&&!e&&(this._map[t].eves=[]),t&&e){var r=[];M(n.eves,function(t){t._call!=e&&r.push(t)}),n.eves=r}};var S=function(t,e,n,r){if(t){var i={data:t.data,name:e};return 1==t.type?n(i,r):2==t.type&&b(function(){n(i,r)}),!0}return!1};R.fn.on=function(t,e,n){var r=this._get(t),i=S(this._ever[t],t,e,n);i||r.eves.push({data:n,_call:e})},R.fn.one=function(t,e,n){var r=this._get(t),i=S(this._ever[t],t,e,n);i||r.eves.push({one:!0,data:n,_call:e})},R.fn.trigger=function(t,e){var n=this._get(t),r=n._first;r&&r._call({data:e,name:t},r.data);var i=[];M(n.eves,function(n){n._call({data:e,name:t},n.data),n.one||i.push(n)}),n.eves=i;var a=this.sub;M(a,function(n){n.trigger(t,e)});var s=n._last;s&&s._call({data:e,name:t},s.data)},R.fn.ever=function(t,e,n){var r={};r=n?{type:1,data:e}:{type:2,data:e},this._ever[t]=r,this.trigger(t,e),this.off(t)},R.fn.first=function(t,e,n){var r=this._get(t);r._first={data:n,_call:e}},R.fn.last=function(t,e,n){var r=this._get(t);r._last={data:n,_call:e}},R.fn.clone=function(){var t=new R;return t._ever=w(this._ever),this.sub.push(t),t};var k=function(t){R.apply(this,arguments),this._cid=0,this._dMap=[],this._isInit=!1,this._isCreate=!1,this._ceName=t||f};k.fn=k.prototype=w(R.prototype),k.fn.create=function(){this._isCreate=!0;var t=this,e=this._cid++;return function(n){t._cid--,t._dMap[e]=n,t._isInit&&0==t._cid&&t.trigger(t._ceName,t._dMap)}},k.fn.init=function(){this._isInit=!0,this._isCreate&&0==this._cid&&this.trigger(this._ceName,this._dMap)};var A=function(t,e){e?(this._origin=e,this._rEvent=new R):(this._origin=this._rEvent=new k,this._origin.init());var n=this,r=this._origin.create();this._rEvent.last(p,function(){r()}),this._rEvent.on(p,function(t){n.ready.apply(this,t.data)}),this.doing(function(t){n.loading(t)}),this.fail(function(t){n.error(t)}),this.pub={},this._urls=t,this._subRequire=[]};A.fn=A.prototype,A.fn.ready=y,A.fn.error=y,A.fn.loading=y,A.fn.done=function(t){var e=this;return this._rEvent.on(p,function(n){t.apply(e,n.data)}),this},A.fn.doing=function(t){return this._rEvent.on(h,function(e){t(e.data)}),this},A.fn.fail=function(t){return this._rEvent.on(d,function(e){t(e.data)}),this},A.fn.post=function(t){return this.data=t,this},A.fn.hand=function(t){M(this._subRequire,function(e){e.data=t})},A.fn.require=function(){var t=q(arguments),e=new A(t,this._origin);return this._subRequire.push(e),e.pub=this.pub,e};var B=function(t){var e=document.createElement("script");return e.type="text/javascript",e.setAttribute("async",!0),e.src=t,e},N=function(t){var e=t.split(/\//g),n=[];return M(e,function(t){return".."==t&&n.length&&".."!=n.slice(-1)[0]?void n.pop():void n.push(t)}),n.join("/")},U=function(t,e){var n=t.split(/^.\//),a=t.match(/\?.+$/g)||[""];if(n.length>=2){var s=e+C(j(n[1]))+a[0];return s=s.replace(i,""),s=N(s)}var u=r.baseUrl,o=r.paths[t]||t;if(/.+:\/\//g.test(o))return o;var s=u?u.concat("/"+o):o;return C(j(s))+a[0]},L={setDefine:function(t){var e=r.tempM,n=E(e.value),i={exports:{}};switch(t.content=i,n){case"function":var a=!1,s=!1,u=new k(c),o=e.value.call({FILE:t.script.src},function(){a=!0;var e=L.require.apply(L,arguments);if(e.pub._dir=I(t.script.src),!s){var n=u.create();e._rEvent.on(f,n)}return e},i.exports,i);s=!0,a?(u.init(),u.on(c,function(){t.status=l,t.event.ever(l,i.exports)})):(o&&(i.exports=o),t.status=l,t.event.ever(l,i.exports));break;default:t.status=l,i.exports=e.value,t.event.ever(l,e.value)}},deferBrain:function(t){var e=t.event.sub;M(e,function(e){t.content.call({FILE:t.script.src,data:e.data},function(){var e=L.require.apply(L,arguments);return e.pub._dir=I(t.script.src),e},function(t){e.trigger(l,t)},function(t){e.trigger(d,t)})}),t.event.sub=[]},mProcess:function(t){var e=t.event,i=r.tempM;if(i){var a=i.name;switch(E(a)){case"array":M(a,function(e){n[e]=t});break;case"string":n[a]=t}}switch(i.type){case g:t.type=g,L.setDefine(t);break;case m:t.type=m,t.content=i.value,L.deferBrain(t);break;default:t.type="file",t.status=l,e.ever(l)}r.tempM={}},loadScript:function(t,e){var n=B(t);n.onload=function(){e({status:_,script:n})},n.onerror=function(){e({status:d,script:n})},o.appendChild(n)},scriptAgent:function(t){var e="";if(n[t]){e=n[t];var r=e.event;return e.type?e.type==m?(b(function(){L.deferBrain(e)}),r.clone()):r:r.clone()}var r=new R;return e=n[t]={status:"wait",event:r},L.loadScript(t,function(t){switch(x(e,t),r.ever(t.status),t.status){case _:L.mProcess(e)}}),r.last(l,function(){r.sub=[]}),r.clone()},groupScript:function(t,e){var n=new k(v),r=[],i=[],s=function(t,e,a,s,u){n.trigger(h,{id:t,sucess:r,total:e,errors:i,input:a,url:s,status:u})};return M(t,function(u,o){var c=U(u,e.pub._dir),f=L.scriptAgent(c,e);e.data&&(f.data=e.data);var p=n.create();f.one(l,function(e){var n=e.data;r.push(u),f.off(d),s(o,t,u,c,_),p(n)}),f.one(d,function(){i.push(u),f.off(l),s(o,t,u,c,d);var e={id:o,input:u,url:c};n.trigger(d,e),a.error(e)})}),n.init(),n},splitter:function(t){var e=t._urls,n=L.groupScript(e,t);n.on(v,function(e){t._rEvent.trigger(p,e.data),M(t._subRequire,function(t){L.splitter(t)})}),n.on(h,function(e){t._rEvent.trigger(h,e.data)}),n.on(d,function(e){t._rEvent.trigger(d,e.data)})},require:function(){var t=q(arguments),e=new A(t);return b(function(){L.splitter(e)}),e},define:function(t,e){r.tempM={type:g,value:t,name:e}},defer:function(t,e){r.tempM={type:m,value:t,name:e}}},$=t.sr;if($){var D=$.config;D&&a.config(D);var F=$.ready;F&&F()}i=I(location.href);var O=function(){return L.require.apply(L,arguments)},P=function(){return L.define.apply(L,arguments)},T=function(){return L.defer.apply(L,arguments)};a.require=O,a.define=P,a.defer=T,t.sr=a,!t.require&&(t.require=O),!t.define&&(t.define=P),!t.defer&&(t.defer=T)}(window);