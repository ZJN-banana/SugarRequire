!function(e){var t={},n={},r={paths:t,baseUrl:"",dataMap:n,tempM:{},version:"sugarRequire 2.0"},i={},a=[],o=!1,s=document.getElementsByTagName("head")[0],u=function(){},c=function(e){o||(o=!0,setTimeout(function(){for(var e=0;e<a.length;e++)a[e]();a=[],o=!1},0)),a.push(e)},f=function(e){return Object.prototype.toString.call(e).toLowerCase().replace(/(\[object )|(])/g,"")},d=Object.create||function(e){var t=u;return t.prototype=e,new t},v=function(e){return Array.prototype.slice.call(e)},p=function(){return[].forEach?function(e,t){return e.forEach(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}}(),h=function(e,t){for(var n in t)e[n]=t[n];return e},l=function(e){return e.replace(/.js$/g,"")},_=function(e){return e.concat(".js")},g=function(){this._map={},this.sub=[],this._ever={}};g.fn=g.prototype,g.fn._get=function(e){return this._map[e]||(this._map[e]={eves:[]})},g.fn.off=function(e,t){var n=this._get(e);if(arguments.length||(delete this._map,this._map=[]),e&&!t&&(this._map[e].eves=[]),e&&t){var r=[];p(n.eves,function(e){e._call!=t&&r.push(e)}),n.eves=r}};var m=function(e,t,n,r){if(e){var i={data:e.data,name:t};return 1==e.type?n(i,r):2==e.type&&c(function(){n(i,r)}),!0}return!1};g.fn.on=function(e,t,n){var r=this._get(e),i=m(this._ever[e],e,t,n);i||r.eves.push({data:n,_call:t})},g.fn.one=function(e,t,n){var r=this._get(e),i=m(this._ever[e],e,t,n);i||r.eves.push({one:!0,data:n,_call:t})},g.fn.trigger=function(e,t){var n=this._get(e),r=n._first;r&&r._call({data:t,name:e},r.data);var i=[];p(n.eves,function(n){n._call({data:t,name:e},n.data),n.one||i.push(n)}),n.eves=i;var a=this.sub;p(a,function(n){n.trigger(e,t)});var o=n._last;o&&o._call({data:t,name:e},o.data)},g.fn.ever=function(e,t,n){var r={};r=n?{type:1,data:t}:{type:2,data:t},this._ever[e]=r,this.trigger(e,t),this.off(e)},g.fn.first=function(e,t,n){var r=this._get(e);r._first={data:n,_call:t}},g.fn.last=function(e,t,n){var r=this._get(e);r._last={data:n,_call:t}},g.fn.clone=function(){var e=new g;return e._ever=d(this._ever),this.sub.push(e),e};var y=function(e){g.apply(this,arguments),this._cid=0,this._dMap=[],this._isInit=!1,this._isCreate=!1,this._ceName=e||"chainend"};y.fn=y.prototype=d(g.prototype),y.fn.create=function(){this._isCreate=!0;var e=this,t=this._cid++;return function(n){e._cid--,e._dMap[t]=n,e._isInit&&0==e._cid&&e.trigger(e._ceName,e._dMap)}},y.fn.init=function(){this._isInit=!0,this._isCreate&&0==this._cid&&this.trigger(this._ceName,this._dMap)};var b=function(e,t){t?(this._origin=t,this._rEvent=new g):(this._origin=this._rEvent=new y,this._origin.init());var n=this,r=this._origin.create();this._rEvent.last("ready",function(){r()}),this._rEvent.on("ready",function(e){n.ready.apply(this,e.data)}),this.doing(function(e){n.loading(e)}),this.fail(function(e){n.error(e)}),this._urls=e,this._subRequire=[]};b.fn=b.prototype,b.fn.ready=u,b.fn.error=u,b.fn.loading=u,b.fn.done=function(e){return this._rEvent.on("ready",function(t){e.apply(this,t.data)}),this},b.fn.doing=function(e){return this._rEvent.on("loading",function(t){e(t.data)}),this},b.fn.fail=function(e){return this._rEvent.on("error",function(t){e(t.data)}),this},b.fn.require=function(){var e=v(arguments),t=new b(e,this._origin);return this._subRequire.push(t),t};var E=function(e){var t=document.createElement("script");return t.type="text/javascript",t.setAttribute("async",!0),t.src=e,t},q={setDefine:function(e){var t=r.tempM,n=f(t.value),i={exports:{}};switch(n){case"function":var a=!1,o=!1,s=new y("firstRequireEnd"),u=t.value(function(){a=!0;var e=q.require.apply({},arguments);if(!o){var t=s.create();e._rEvent.on("chainend",t)}return e},i.exports,i);a?(s.init(),s.on("firstRequireEnd",function(){o=!0,e.status="done",e.event.ever("done",i.exports)})):(u&&(i.exports=u),o=!0,e.status="done",e.event.ever("done",i.exports));break;default:e.status="done",e.event.ever("done",t.value),i.exports=t.value}e.content=i},deferBrain:function(e){var t=e.event.sub;p(t,function(t){e.content(function(e){t.trigger("done",e)},function(e){t.trigger("error",e)})}),e.event.sub=[]},mProcess:function(e){var t=e.event,n=r.tempM;switch(n.type){case"define":e.type="define",q.setDefine(e);break;case"defer":e.type="defer",e.content=n.value,q.deferBrain(e);break;default:e.type="file",e.status="done",t.ever("done")}r.tempM={}},loadScript:function(e,t){var n=E(_(e));n.onload=function(){t({status:"succeed",script:n})},n.onerror=function(){t({status:"error",script:n})},s.appendChild(n)},scriptAgent:function(e){var t="";return n[e]?(t=n[e],t.type?"defer"==t.type?(c(function(){q.deferBrain(t)}),t.event.clone()):t.event:t.event.clone()):(t=n[e]={status:"wait",event:new g},q.loadScript(l(e),function(e){h(t,e),t.event.ever(e.status),q.mProcess(t)}),t.event.last("done",function(){t.event.sub=[]}),t.event.clone())},groupScript:function(e){var t=new y("allloadend");return p(e,function(e){var n=q.scriptAgent(e),r=t.create();n.one("done",function(e){var n=e.data;t.trigger("loading",n),r(n)})}),t.init(),t},splitter:function(e){var t=e._urls,n=q.groupScript(t);n.on("allloadend",function(t){e._rEvent.trigger("ready",t.data),p(e._subRequire,function(e){q.splitter(e)})})},require:function(){var e=v(arguments),t=new b(e);return c(function(){q.splitter(t)}),t},define:function(e,t){r.tempM={type:"define",value:e,name:t}},defer:function(e,t){r.tempM={type:"defer",value:e,name:t}}};i.require=q.require,e.sr=i,!e.require&&(e.require=q.require),!e.define&&(e.define=q.define),!e.defer&&(e.defer=q.defer),e.BindEvent=g,e.GatherEvent=y,e.Require=b,e.R=q,e.baseResources=r}(window);