!function(t){var e={},n={},r={paths:e,baseUrl:"",dataMap:n,tempM:{},version:"sugarRequire 2.0"},i={},a=[],o=!1,s=document.getElementsByTagName("head")[0],u=function(){},c=function(t){o||(o=!0,setTimeout(function(){for(var t=0;t<a.length;t++)a[t]();a=[],o=!1},0)),a.push(t)},f=function(t){return Object.prototype.toString.call(t).toLowerCase().replace(/(\[object )|(])/g,"")},d=Object.create||function(t){var e=u;return e.prototype=t,new e},p=function(t){return Array.prototype.slice.call(t)},v=function(){return[].forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}}(),h=function(t,e){for(var n in e)t[n]=e[n];return t},l=function(t){return t.replace(/.js$/g,"")},_=function(t){return t.concat(".js")},g=function(){this._map={},this._sub=[]};g.fn=g.prototype,g.fn._get=function(t){return this._map[t]||(this._map[t]={eves:[]})},g.fn.on=function(t,e,n){var r=this._get(t),i=r.ever;if(i){var a={data:i.data,name:t};return void(1==i.type?e(a,n):2==i.type&&c(function(){e(a,n)}))}r.eves.push({data:n,_call:e})},g.fn.off=function(t,e){var n=this._get(t);if(arguments.length||(delete this._map,this._map=[]),t&&!e&&(this._map[t].eves=[]),t&&e){var r=[];v(n.eves,function(t){t._call!=e&&r.push(t)}),n.eves=r}},g.fn.one=function(t,e,n){var r=this._get(t);r.eves.push({one:!0,data:n,_call:e})},g.fn.trigger=function(t,e){var n=this._get(t);n.ever;var r=n._first;r&&r._call({data:e,name:t},r.data);var i=[];v(n.eves,function(n){n._call({data:e,name:t},n.data),n.one||i.push(n)}),n.eves=i;var a=n._last;a&&a._call({data:e,name:t},a.data);var o=this._sub;v(o,function(n){n.trigger(t,e)})},g.fn.ever=function(t,e,n){var r=this._get(t);r.ever=n?{type:1,data:e}:{type:2,data:e},this.trigger(t,e),this.off(t)},g.fn.first=function(t,e,n){var r=this._get(t);r._first={data:n,_call:e}},g.fn.last=function(t,e,n){var r=this._get(t);r._last={data:n,_call:e}},g.fn.clone=function(){var t=new g;return this._sub.push(t),t};var m=function(t){g.apply(this,arguments),this._cid=0,this._dMap=[],this._isInit=!1,this._isCreate=!1,this._ceName=t||"chainend"};m.fn=m.prototype=d(g.prototype),m.fn.create=function(){this._isCreate=!0;var t=this,e=this._cid++;return function(n){t._cid--,t._dMap[e]=n,t._isInit&&0==t._cid&&t.trigger(t._ceName,t._dMap)}},m.fn.init=function(){this._isInit=!0,this._isCreate&&0==this._cid&&this.trigger(this._ceName,this._dMap)};var y=function(t,e){e?(this._origin=e,this._rEvent=new g):(this._origin=this._rEvent=new m,this._origin.init());var n=this._origin.create();this._rEvent.last("ready",function(){n()});var r=this;this._rEvent.on("ready",function(t){r.ready.apply(this,t.data)}),this.doing(function(t){r.loading(t)}),this.fail(function(t){r.error(t)}),this._urls=t,this._subRequire=[]};y.fn=y.prototype,y.fn.ready=u,y.fn.error=u,y.fn.loading=u,y.fn.done=function(t){return this._rEvent.on("ready",function(e){t.apply(this,e.data)}),this},y.fn.doing=function(t){return this._rEvent.on("loading",function(e){t(e.data)}),this},y.fn.fail=function(t){return this._rEvent.on("error",function(e){t(e.data)}),this},y.fn.require=function(){var t=p(arguments),e=new y(t,this._origin);return this._subRequire.push(e),e};var E=function(t){var e=document.createElement("script");return e.type="text/javascript",e.setAttribute("async",!0),e.src=t,e},q={setDefine:function(t){var e,n=r.tempM,i=f(n.value);switch(i){case"function":var a={exports:{}},o=!1,s=new m("firstRequireEnd"),u=n.value(function(){o=!0;var t=q.require.apply({},arguments),e=s.create();return t._rEvent.on("chainend",e),t},a.exports,a);o?(s.init(),s.on("firstRequireEnd",function(){t.event.ever("done",a.exports)})):(u&&(a.exports=u),e=a,t.event.ever("done",a.exports));break;default:t.event.ever("done",n.value),e={exports:n.value}}t.content=e},mProcess:function(t){var e=t.event;switch(r.tempM.type){case"define":t.type="define",q.setDefine(t);break;case"defer":t.type="defer";break;default:t.type="file",t.status="ready",e.ever("done")}r.tempM={}},loadScript:function(t,e){var n=E(_(t));n.onload=function(){e({status:"succeed",script:n})},n.onerror=function(){e({status:"error",script:n})},s.appendChild(n)},scriptAgent:function(t){var e="";return n[t]?e=n[t]:(e=n[t]={status:"wait",event:new m("done")},q.loadScript(l(t),function(t){h(e,t),e.event.ever(t.status),q.mProcess(e)})),e.event},groupScript:function(t){var e=new m("allloadend");return v(t,function(t){var n=q.scriptAgent(t),r=e.create();n.on("done",function(t){var n=t.data;e.trigger("loading",n),r(n)})}),e.init(),e},splitter:function(t){var e=t._urls,n=q.groupScript(e);n.on("allloadend",function(e){t._rEvent.trigger("ready",e.data),v(t._subRequire,function(t){q.splitter(t)})})},require:function(){var t=p(arguments),e=new y(t);return c(function(){q.splitter(e)}),e},define:function(t,e){r.tempM={type:"define",value:t,name:e}},defer:function(t,e){r.tempM={type:"defer",value:t,name:e}}};i.require=q.require,t.sr=i,!t.require&&(t.require=q.require),!t.define&&(t.define=q.define),!t.defer&&(t.defer=q.defer),t.BindEvent=g,t.GatherEvent=m,t.Require=y,t.R=q}(window);